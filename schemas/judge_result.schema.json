{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CCB LLM Judge Result",
  "description": "Per-task output from the LLM judge evaluating agent performance.",
  "type": "object",
  "required": ["task_id", "benchmark", "config", "judge_score", "judge_model", "judged_at"],
  "properties": {
    "task_id": {
      "type": "string",
      "description": "Canonical task identifier (e.g., sgt-001, apiserver-doc-001)"
    },
    "benchmark": {
      "type": "string",
      "description": "Benchmark suite name (e.g., ccb_k8sdocs, ccb_pytorch)"
    },
    "config": {
      "type": "string",
      "description": "Agent configuration label (e.g., baseline, sourcegraph_base, sourcegraph_full)"
    },
    "judge_score": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Composite headline score from the judge (0.0-1.0)"
    },
    "judge_model": {
      "type": "string",
      "description": "Model used for judging (e.g., anthropic/claude-opus-4-5-20251101)"
    },
    "judged_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when the judgment was produced"
    },
    "rubric": {
      "type": "object",
      "description": "Per-dimension scores from the judge rubric",
      "properties": {
        "correctness": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "How correct is the agent's solution?"
        },
        "completeness": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Does the solution address all requirements?"
        },
        "code_quality": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Is the code clean, idiomatic, and well-structured?"
        },
        "reasoning_quality": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "How well did the agent reason about the problem?"
        },
        "tool_use_efficiency": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "How efficiently did the agent use available tools?"
        }
      },
      "additionalProperties": {
        "type": "number",
        "minimum": 0.0,
        "maximum": 1.0
      }
    },
    "rationale": {
      "type": "string",
      "description": "Free-text explanation of the judge's assessment"
    },
    "judge_context_path": {
      "type": "string",
      "description": "Relative path to the context file provided to the judge"
    }
  },
  "additionalProperties": false
}
