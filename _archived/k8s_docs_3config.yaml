# Kubernetes Docs 5-Task 3-Config Comparison
#
# NOTE: Kubernetes Docs is a local benchmark not registered in Harbor's registry.
# The V2 config system doesn't support local paths, so use the shell script instead:
#
#   ./configs/k8s_docs_3config.sh
#
# This YAML file is kept for reference and future registry integration.
#
# Full 3-config comparison:
#   - Baseline (no MCP)
#   - MCP-NoDeepSearch (Sourcegraph tools without Deep Search)
#   - MCP-Full (Sourcegraph + Deep Search hybrid)
#
# This configuration runs all 5 Kubernetes documentation tasks across
# all 3 agent configurations.
#
# Tasks:
#   - pkg-doc-001: Package documentation for kubelet container manager
#   - client-go-doc-001: Client-go package documentation
#   - applyconfig-doc-001: Apply configuration documentation
#   - apiserver-doc-001: API server documentation
#   - fairqueuing-doc-001: Fair queuing documentation
#
# Language: Go
# Evaluation: LLM judge + test suite

experiment_name: k8s_docs_3config
description: "Kubernetes Docs 5-task ablation: Baseline vs MCP-NoDeepSearch vs MCP-Full"
run_category: official

benchmarks:
  - name: ccb_k8sdocs
    version: "1.0"
    path: /home/stephanie_jarmak/CodeContextBench/benchmarks/ccb_k8sdocs
    task_selector:
      type: explicit
      task_ids:
        - "pkg-doc-001"
        - "client-go-doc-001"
        - "applyconfig-doc-001"
        - "apiserver-doc-001"
        - "fairqueuing-doc-001"

agent:
  import_path: agents.claude_baseline_agent:BaselineClaudeCodeAgent
  version: "1.0.0"

models:
  - anthropic/claude-opus-4-5-20251101

mcp_modes:
  - baseline
  - sourcegraph_no_deepsearch
  - sourcegraph_hybrid

seeds: [0]

execution:
  concurrency: 2
  timeout_seconds: 900  # 15 minutes per task (matches task.toml time_limit_sec)
  environment:
    type: docker
    delete_containers: false  # Keep containers for debugging

output:
  root_dir: eval_runs_v2
  export_on_complete: true
  export_formats:
    - json
    - markdown

pairing:
  enabled: true
  baseline_mode: baseline  # Use baseline as reference for all comparisons

tags:
  - kubernetes-docs
  - 5-task-comparison
  - 3-config
  - v2
  - go
