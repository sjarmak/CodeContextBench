id: fairqueuing-doc-001
name: "Fair Queuing QueueSet Package Documentation"
category: package-documentation
difficulty: hard
repository: kubernetes/kubernetes
target_path: staging/src/k8s.io/apiserver/pkg/util/flowcontrol/fairqueuing/queueset

description: |
  Generate comprehensive package documentation (doc.go) for the fair queuing
  queueset package. This package implements fair queuing for API server
  requests, adapting networking concepts to handle concurrent request
  dispatching with unknown service times.

task_prompt: |
  You are documenting the `staging/src/k8s.io/apiserver/pkg/util/flowcontrol/fairqueuing/queueset`
  package in Kubernetes. The existing documentation has been removed.

  Your task is to create a `doc.go` file that:
  1. Explains fair queuing for server requests
  2. References networking fair queuing origins
  3. Documents three key differences from classic fair queuing
  4. Explains virtual time / R(t) and the mathematical formula
  5. Covers service time estimation with initial guess G
  6. Describes the implementation approach

expected_output:
  type: file
  filename: doc.go
  location: staging/src/k8s.io/apiserver/pkg/util/flowcontrol/fairqueuing/queueset/doc.go

ground_truth:
  primary_file: ground_truth/doc.go

verifier:
  type: script
  script: test.sh

mcp_expected_value: high
mcp_rationale: |
  With Sourcegraph tools, an agent can:
  - Discover the full flowcontrol/fairqueuing package hierarchy
  - Find how QueueSet interfaces with the broader APF system
  - Understand virtual time computation from implementation
  - See how service time estimation and adjustment works
