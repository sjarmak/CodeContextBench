{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "largerepo-ground-truth",
  "title": "LargeRepo Ground Truth",
  "description": "Ground truth file set for ccb_largerepo tasks. Used by verifiers to compute IR metrics (precision, recall, F1).",
  "type": "object",
  "required": ["task_id", "category", "repo", "language", "files", "confidence", "methodology"],
  "properties": {
    "task_id": {
      "type": "string",
      "pattern": "^big-code-"
    },
    "category": {
      "type": "string",
      "enum": ["architectural_understanding", "cross_file_refactoring", "bug_investigation", "security_analysis", "feature_implementation"]
    },
    "repo": {
      "type": "string",
      "description": "GitHub org/repo (e.g., kubernetes/kubernetes)"
    },
    "language": {
      "type": "string"
    },
    "files": {
      "type": "array",
      "items": { "type": "string" },
      "minItems": 5,
      "maxItems": 30,
      "description": "Repo-relative paths to architecturally relevant or modification-target files"
    },
    "dependency_chain": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Ordered list of files representing the dependency/call traversal path"
    },
    "root_cause_files": {
      "type": "array",
      "items": { "type": "string" },
      "description": "For bug_investigation: the specific file(s) containing the root cause"
    },
    "entry_points": {
      "type": "array",
      "items": { "type": "string" },
      "description": "For security_analysis: entry point files where untrusted data enters"
    },
    "data_flow": {
      "type": "array",
      "items": { "type": "string" },
      "description": "For security_analysis: ordered source->transform->sink file chain"
    },
    "confidence": {
      "type": "string",
      "enum": ["high", "medium"],
      "description": "high = manually verified against repo; medium = instruction-inferred or trajectory-mined"
    },
    "methodology": {
      "type": "string",
      "description": "How this ground truth was determined (e.g., manual analysis, trajectory mining, PR analysis)"
    }
  }
}
