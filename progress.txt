## Codebase Patterns
- codereview tasks clone target repos (Ghost, aspnetcore, cal.com) and inject defects via Dockerfile patches
- Hybrid scoring: 0.5 * detection_F1 + 0.5 * fix_score, output to /logs/verifier/reward.txt
- Agent dual output: code fixes committed to workspace + /workspace/review.json structured review
- Ground truth in tests/expected_defects.json and tests/expected_patches/
- DIR_PREFIX_TO_SUITE mapping needed in both generate_manifest.py and aggregate_status.py

## Progress

## 2026-02-06 - US-001
- Added `"codereview_": "ccb_codereview"` to DIR_PREFIX_TO_SUITE in scripts/generate_manifest.py
- Files changed: scripts/generate_manifest.py (new file from earlier commit, plus codereview entry)
- **Learnings for future iterations:**
  - generate_manifest.py doesn't exist on main — it was added in the bulk infrastructure commit (2bb664a7), not the scaffold commit
  - The scaffold commit (0483b714) has massive merge conflicts with main — cherry-picking is not viable. Use `git show <commit>:<path>` to extract individual files instead
  - Dict entries in DIR_PREFIX_TO_SUITE are alphabetically ordered
---

## 2026-02-06 - US-002
- Added `"codereview_": "ccb_codereview"` to DIR_PREFIX_TO_SUITE in scripts/aggregate_status.py
- Extracted aggregate_status.py and its dependency status_fingerprints.py from scaffold commit (0483b714) since neither existed on working tree
- Files changed: scripts/aggregate_status.py (new), scripts/status_fingerprints.py (new)
- **Learnings for future iterations:**
  - aggregate_status.py imports status_fingerprints.py — both must be extracted together from the scaffold commit
  - Same `git show <commit>:<path>` pattern used as for generate_manifest.py in US-001
  - Dict entry added in alphabetical position (after crossrepo, before dibench)
---
