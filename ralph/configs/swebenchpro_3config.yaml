# SWE-bench Pro 50-Task 3-Config Comparison
#
# Full 3-config comparison:
#   - Baseline (no MCP)
#   - MCP-NoDeepSearch (Sourcegraph tools without Deep Search)
#   - MCP-Full (Sourcegraph + Deep Search hybrid)
#
# This configuration runs ALL 50 canonical SWE-bench Pro tasks
# across all 3 agent configurations.
#
# Tasks include:
# - Ansible (6 tasks)
# - Element-Web (2 tasks)
# - Flipt (12 tasks)
# - Future Architect/Vuls (5 tasks)
# - Gravitational/Teleport (9 tasks)
# - Internet Archive/OpenLibrary (5 tasks)
# - Navidrome (1 task)
# - NodeBB (2 tasks)
# - ProtonMail/Webclients (7 tasks)
# - Tutao/Tutanota (1 task)
#
# Usage:
#   ./configs/swebenchpro_3config.sh [OPTIONS]

experiment_name: swebenchpro_50_tasks_3config
description: "SWE-bench Pro 50-task ablation: Baseline vs MCP-NoDeepSearch vs MCP-Full"
run_category: official

benchmarks:
  - name: swebenchpro
    version: "1.0"
    task_selector:
      type: explicit
      task_ids:
        # Ansible (6 tasks)
        - "instance_ansible__ansible-4c5ce5a1a9e79a845aff4978cfeb72a0d4ecf7d6-v1055803c3a812189a1133297f7f5468579283f86"
        - "instance_ansible__ansible-811093f0225caa4dd33890933150a81c6a6d5226-v1055803c3a812189a1133297f7f5468579283f86"
        - "instance_ansible__ansible-b8025ac160146319d2b875be3366b60c852dd35d-v0f01c69f1e2528b935359cfe578530722bca2c59"
        - "instance_ansible__ansible-bec27fb4c0a40c5f8bbcf26a475704227d65ee73-v30a923fb5c164d6cd18280c02422f75e611e8fb2"
        - "instance_ansible__ansible-c616e54a6e23fa5616a1d56d243f69576164ef9b-v1055803c3a812189a1133297f7f5468579283f86"
        - "instance_ansible__ansible-e40889e7112ae00a21a2c74312b330e67a766cc0-v1055803c3a812189a1133297f7f5468579283f86"

        # Element-Web (2 tasks)
        - "instance_element-hq__element-web-33e8edb3d508d6eefb354819ca693b7accc695e7"
        - "instance_element-hq__element-web-f14374a51c153f64f313243f2df6ea4971db4e15"

        # Flipt (12 tasks)
        - "instance_flipt-io__flipt-86906cbfc3a5d3629a583f98e6301142f5f14bdb-v6bea0cc3a6fc532d7da914314f2944fc1cd04dee"
        - "instance_flipt-io__flipt-967855b429f749c28c112b8cb1b15bc79157f973"
        - "instance_flipt-io__flipt-9d25c18b79bc7829a6fb08ec9e8793d5d17e2868"
        - "instance_flipt-io__flipt-aebaecd026f752b187f11328b0d464761b15d2ab"
        - "instance_flipt-io__flipt-b3cd920bbb25e01fdb2dab66a5a913363bc62f6c"
        - "instance_flipt-io__flipt-b433bd05ce405837804693bebd5f4b88d87133c8"
        - "instance_flipt-io__flipt-c1fd7a81ef9f23e742501bfb26d914eb683262aa"
        - "instance_flipt-io__flipt-c8d71ad7ea98d97546f01cce4ccb451dbcf37d3b"
        - "instance_flipt-io__flipt-cf06f4ebfab7fa21eed3e5838592e8e44566957f"
        - "instance_flipt-io__flipt-dbe263961b187e1c5d7fe34c65b000985a2da5a0"
        - "instance_flipt-io__flipt-e91615cf07966da41756017a7d571f9fc0fdbe80"
        - "instance_flipt-io__flipt-f1bc91a1b999656dbdb2495ccb57bf2105b84920"

        # Future Architect/Vuls (5 tasks)
        - "instance_future-architect__vuls-139f3a81b66c47e6d8f70ce6c4afe7a9196a6ea8"
        - "instance_future-architect__vuls-4a72295de7b91faa59d90a5bee91535bbe76755d"
        - "instance_future-architect__vuls-ad2edbb8448e2c41a097f1c0b52696c0f6c5924d"
        - "instance_future-architect__vuls-e049df50fa1eecdccc5348e27845b5c783ed7c76-v73dc95f6b90883d8a87e01e5e9bb6d3cc32add6d"
        - "instance_future-architect__vuls-e1fab805afcfc92a2a615371d0ec1e667503c254-v264a82e2f4818e30f5a25e4da53b27ba119f62b5"

        # Gravitational/Teleport (9 tasks)
        - "instance_gravitational__teleport-288c5519ce0dec9622361a5e5d6cd36aa2d9e348"
        - "instance_gravitational__teleport-3587cca7840f636489449113969a5066025dd5bf"
        - "instance_gravitational__teleport-3fa6904377c006497169945428e8197158667910-v626ec2a48416b10a88641359a169d99e935ff037"
        - "instance_gravitational__teleport-6eaaf3a27e64f4ef4ef855bd35d7ec338cf17460-v626ec2a48416b10a88641359a169d99e935ff037"
        - "instance_gravitational__teleport-7744f72c6eb631791434b648ba41083b5f6d2278-vce94f93ad1030e3136852817f2423c1b3ac37bc4"
        - "instance_gravitational__teleport-d6ffe82aaf2af1057b69c61bf9df777f5ab5635a-vee9b09fb20c43af7e520f57e9239bbcf46b7113d"
        - "instance_gravitational__teleport-d873ea4fa67d3132eccba39213c1ca2f52064dcc-vce94f93ad1030e3136852817f2423c1b3ac37bc4"
        - "instance_gravitational__teleport-db89206db6c2969266e664c7c0fb51b70e958b64"
        - "instance_gravitational__teleport-fb0ab2b9b771377a689fd0d0374777c251e58bbf"

        # Internet Archive/OpenLibrary (5 tasks)
        - "instance_internetarchive__openlibrary-7f6b722a10f822171501d027cad60afe53337732-ve8c8d62a2b60610a3c4631f5f23ed866bada9818"
        - "instance_internetarchive__openlibrary-92db3454aeaa02f89b4cdbc3103f7e95c9759f92-v2c55207218fb8a0138425cbf7d9675272e240b90"
        - "instance_internetarchive__openlibrary-b67138b316b1e9c11df8a4a8391fe5cc8e75ff9f-ve8c8d62a2b60610a3c4631f5f23ed866bada9818"
        - "instance_internetarchive__openlibrary-bb152d23c004f3d68986877143bb0f83531fe401-ve8c8d62a2b60610a3c4631f5f23ed866bada9818"
        - "instance_internetarchive__openlibrary-d109cc7e6e161170391f98f9a6fa1d02534c18e4-ve8c8d62a2b60610a3c4631f5f23ed866bada9818"

        # Navidrome (1 task)
        - "instance_navidrome__navidrome-bf2bcb12799b21069f137749e0c331f761d1f693"

        # NodeBB (2 tasks)
        - "instance_NodeBB__NodeBB-76c6e30282906ac664f2c9278fc90999b27b1f48-vd59a5728dfc977f44533186ace531248c2917516"
        - "instance_NodeBB__NodeBB-f1a80d48cc45877fcbadf34c2345dd9709722c7f-v4fbcfae8b15e4ce5d132c408bca69ebb9cf146ed"

        # ProtonMail/Webclients (7 tasks)
        - "instance_protonmail__webclients-0d0267c4438cf378bda90bc85eed3a3615871ac4"
        - "instance_protonmail__webclients-2dce79ea4451ad88d6bfe94da22e7f2f988efa60"
        - "instance_protonmail__webclients-369fd37de29c14c690cb3b1c09a949189734026f"
        - "instance_protonmail__webclients-6e1873b06df6529a469599aa1d69d3b18f7d9d37"
        - "instance_protonmail__webclients-8be4f6cb9380fcd2e67bcb18cef931ae0d4b869c"
        - "instance_protonmail__webclients-c6f65d205c401350a226bb005f42fac1754b0b5b"
        - "instance_protonmail__webclients-caf10ba9ab2677761c88522d1ba8ad025779c492"

        # Tutao/Tutanota (1 task)
        - "instance_tutao__tutanota-befce4b146002b9abc86aa95f4d57581771815ce-vee878bb72091875e912c52fc32bc60ec3760227b"

agent:
  import_path: agents.claude_baseline_agent:BaselineClaudeCodeAgent
  version: "1.0.0"

models:
  - anthropic/claude-opus-4-5-20251101

mcp_modes:
  - baseline
  - sourcegraph_no_deepsearch
  - sourcegraph_hybrid

seeds: [0]

execution:
  concurrency: 2  # Reduced from original to prevent batch incompleteness
  timeout_seconds: 7200  # 2 hours per task
  environment:
    type: docker
    delete_containers: false  # Keep containers for debugging

output:
  root_dir: eval_runs_v2
  export_on_complete: true
  export_formats:
    - json
    - markdown

pairing:
  enabled: true
  baseline_mode: baseline  # Use baseline as reference for all comparisons

tags:
  - swebenchpro
  - 50-task-comparison
  - 3-config
  - v2
  - full-ablation
